{"ast":null,"code":"var _jsxFileName = \"/Users/saipavanmaram/Documents/AUCM/courses/Master'sProject/react_rent_a_car/src/components/UI/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport \"../../styles/booking-form.css\";\nimport { Form, FormGroup } from \"reactstrap\";\nimport validator from 'validator';\nimport { Container, Row, Col } from \"reactstrap\";\nimport \"../../styles/booking-form.css\";\nimport \"../../styles/payment-method.css\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\"; //import userData from \"../../assets/data/userData\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [errorMessage, setErrorMessage] = useState('');\n  const [usernameval, setusernameval] = useState('');\n  const [pwd, setPwd] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [users_arr, setUsers_arr] = useState([]);\n  const [userdet_arr, setUsersdet_arr] = useState([]);\n  const loginNameRef = useRef();\n  const loginPasswordRef = useRef();\n\n  const fetchData = () => {\n    fetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/users\").then(response => {\n      return response.json();\n    }).then(data => {\n      let usrs = data;\n      console.log(usrs);\n      setUsers_arr(usrs);\n      fetchUserDetData();\n    });\n  };\n\n  const fetchUserDetData = () => {\n    fetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/registeredusers\").then(response => {\n      return response.json();\n    }).then(data => {\n      let usrsdata = data;\n      console.log(usrsdata);\n      setUsersdet_arr(usrsdata);\n    });\n  };\n\n  useEffect(() => {\n    //loginNameRef.current.focus();\n    setErrorMessage('');\n  }, [usernameval, pwd]);\n  useEffect(() => {\n    //loginNameRef.current.focus();\n    fetchData();\n  }, []);\n  const navigate = useNavigate();\n\n  const submitHandler = e => {\n    const usrname = users_arr.filter(user => user.username === usernameval); // const passwo = users_arr.filter(user => user.password === pwd );\n\n    const passwo = usrname[0].password === pwd;\n    console.log(\"usegf\");\n    console.log(usrname);\n    console.log(\"passs\");\n    console.log(passwo);\n\n    if (usrname.length && passwo) {\n      const userar = userdet_arr.filter(user => user.username === usernameval); // console\n      //console.log(fname)\n      // const lname = userdet_arr.filter(user => user.password === pwd );\n      //  const phone = userdet_arr.filter(user => user.username === usernameval );\n      //const email = userdet_arr.filter(user => user.password === pwd );\n\n      const fname = userar[0].fname;\n      const lname = userar[0].lname;\n      const phone = userar[0].phone;\n      const email = usernameval;\n      alert(\"Sucessfully Logged in\");\n      localStorage.setItem('fname', fname);\n      localStorage.setItem('lname', lname);\n      localStorage.setItem('phone', phone);\n      localStorage.setItem('email', email);\n      localStorage.setItem('islogged', true);\n      navigate(\"/cars\");\n    } else {\n      alert('Incorrect Username or password');\n    }\n    /*const k = localStorage.getItem(usernameval)\n    \n    if (k == pwd)\n    {\n     alert(\"Sucessfully Logged in\");\n     localStorage.setItem('islogged',true)\n     navigate(\"/cars\")\n    }\n    else{\n     alert('Incorrect Username or password');\n    }\n    */\n\n    /*for (let i = 0 ; i< userData.length ; i++ ) {\n     \n      if ((userData[i].username == usernameval) && (userData[i].passwords == pwd))\n    {\n     alert(\"Login sucess\");\n     navigate(\"/home\")\n     break;\n    }\n     }*/\n    // alert('Incorrect Username or password');\n\n\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: submitHandler,\n    children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n      className: \"booking__form d-inline-block me-4 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        required: true,\n        ref: loginNameRef,\n        onChange: e => setusernameval(e.target.value),\n        value: usernameval\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      className: \"booking__form d-inline-block me-4 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        required: true,\n        ref: loginPasswordRef,\n        onChange: e => setPwd(e.target.value),\n        value: pwd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment text-center mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 15\n  }, this);\n};\n\n_s(Login, \"jxoC+fJxzOuGLJq/IcwrXIvTZXI=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useRef","useEffect","useState","Form","FormGroup","validator","Container","Row","Col","Link","useNavigate","Login","errorMessage","setErrorMessage","usernameval","setusernameval","pwd","setPwd","success","setSuccess","users_arr","setUsers_arr","userdet_arr","setUsersdet_arr","loginNameRef","loginPasswordRef","fetchData","fetch","then","response","json","data","usrs","console","log","fetchUserDetData","usrsdata","navigate","submitHandler","e","usrname","filter","user","username","passwo","password","length","userar","fname","lname","phone","email","alert","localStorage","setItem","preventDefault","target","value"],"sources":["/Users/saipavanmaram/Documents/AUCM/courses/Master'sProject/react_rent_a_car/src/components/UI/Login.jsx"],"sourcesContent":["import React,{useRef,useEffect} from \"react\";\nimport {useState} from \"react\";\nimport \"../../styles/booking-form.css\";\nimport { Form, FormGroup } from \"reactstrap\";\nimport validator from 'validator';\nimport { Container, Row, Col } from \"reactstrap\";\nimport \"../../styles/booking-form.css\";\nimport \"../../styles/payment-method.css\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\n//import userData from \"../../assets/data/userData\";\n\nconst Login = () => {\n\t\n\t  const [errorMessage, setErrorMessage] = useState('');\n\t  const [usernameval , setusernameval] = useState('');\n\t   const [pwd, setPwd] = useState('');\n\t   const [success, setSuccess] = useState(false);\n\t   const [users_arr, setUsers_arr] = useState([]);\n\t   const [userdet_arr, setUsersdet_arr] = useState([]);\n  const loginNameRef = useRef();\n  const loginPasswordRef = useRef();\n  \n  \n  \n  const fetchData =()=>{\nfetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/users\")\n.then((response) =>{\nreturn response.json(); \n}).then((data)=>{\nlet usrs = data;\nconsole.log(usrs); \nsetUsers_arr(usrs);\nfetchUserDetData();\n})\n}\n\n const fetchUserDetData =()=>{\nfetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/registeredusers\")\n.then((response) =>{\nreturn response.json(); \n}).then((data)=>{\nlet usrsdata = data;\nconsole.log(usrsdata); \nsetUsersdet_arr(usrsdata);\n\n})\n}\n  \n\n\n    useEffect(() => {\n\t\t\n\t\t//loginNameRef.current.focus();\n        setErrorMessage('');\n    }, [usernameval, pwd])\n\n\n   useEffect(() => {\n\t\t\n\t\t//loginNameRef.current.focus();\n        fetchData();\n    }, [])\n\n\n\n const navigate = useNavigate();\t\n  const submitHandler = (e) => {\n\t  \n\t  const usrname = users_arr.filter(user => user.username === usernameval );\n\t // const passwo = users_arr.filter(user => user.password === pwd );\n\t  const passwo = usrname[0].password === pwd;\n\t  \n\t  console.log(\"usegf\");\n\t  console.log(usrname);\n\t  console.log(\"passs\");\n\t  console.log(passwo);\n\t  \n\t  \n\t  if(usrname.length&&passwo)\n\t  {\n\t\t  const userar = userdet_arr.filter(user => user.username === usernameval );\n\t\t // console\n\t\t  //console.log(fname)\n\t // const lname = userdet_arr.filter(user => user.password === pwd );\n\t  //  const phone = userdet_arr.filter(user => user.username === usernameval );\n\t  //const email = userdet_arr.filter(user => user.password === pwd );\n\t\t  \n\t\t  const fname = userar[0].fname;\n\t\t  const lname = userar[0].lname;\n\t\t  const phone = userar[0].phone;\n\t\t  const email = usernameval;\n\t\t  \n\t\t   alert(\"Sucessfully Logged in\");\n\t\t   localStorage.setItem('fname',fname)\n\t\t   localStorage.setItem('lname',lname)\n\t\t   localStorage.setItem('phone',phone)\n\t\t     localStorage.setItem('email',email)\n\t\t localStorage.setItem('islogged',true)\n\t\t navigate(\"/cars\")\n\t  }\n\t  else{\n\t\t alert('Incorrect Username or password');\n\t }\n\t  \n\t  \n\t  \n\t /*const k = localStorage.getItem(usernameval)\n\t \n\t if (k == pwd)\n\t {\n\t\t alert(\"Sucessfully Logged in\");\n\t\t localStorage.setItem('islogged',true)\n\t\t navigate(\"/cars\")\n\t }\n\t else{\n\t\t alert('Incorrect Username or password');\n\t }\n\t */\n \n  /*for (let i = 0 ; i< userData.length ; i++ ) {\n\t  \n    if ((userData[i].username == usernameval) && (userData[i].passwords == pwd))\n\t{\n\t\t alert(\"Login sucess\");\n\t\t navigate(\"/home\")\n\t\t break;\n\t}\n\n  }*/\n  \n  \n  \n // alert('Incorrect Username or password');\n   e.preventDefault();\n  };\n\n  return (\n    \n              <Form  onSubmit={submitHandler}>\n                <FormGroup className=\"booking__form d-inline-block me-4 mb-4\">\n                  <input\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    required\n                    ref={loginNameRef}\n\t\t\t\t\tonChange={(e) => setusernameval(e.target.value)}\n                            value={usernameval}\n                  />\n              </FormGroup>\n             < FormGroup className=\"booking__form d-inline-block me-4 mb-4\">\n                  <input\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    required\n                    ref={loginPasswordRef}\n\t\t\t\t\t onChange={(e) => setPwd(e.target.value)}\n                            value={pwd}\n\t\t\t\t\t\n                  />\n              </FormGroup>\n\t\t\t  <FormGroup>\n\t\t\t   <div className=\"payment text-center mt-4\">\n                <button  type=\"submit\">\n                  Login\n                </button>\n\t\t\t\t </div>\n\t\t\t\t   </FormGroup>\n          \n              </Form>\n\t\t\t  \n            \n  );\n};\n\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}