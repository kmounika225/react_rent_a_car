{"ast":null,"code":"import _slicedToArray from\"/Users/saipavanmaram/Documents/AUCM/courses/Master'sProject/react_rent_a_car/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useEffect}from\"react\";import{useState}from\"react\";import\"../../styles/booking-form.css\";import{Form,FormGroup}from\"reactstrap\";import validator from'validator';import{Container,Row,Col}from\"reactstrap\";import\"../../styles/booking-form.css\";import\"../../styles/payment-method.css\";import{Link}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),usernameval=_useState4[0],setusernameval=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),pwd=_useState6[0],setPwd=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),success=_useState8[0],setSuccess=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),users_arr=_useState10[0],setUsers_arr=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),userdet_arr=_useState12[0],setUsersdet_arr=_useState12[1];var loginNameRef=useRef();var loginPasswordRef=useRef();var fetchData=function fetchData(){fetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/users\").then(function(response){return response.json();}).then(function(data){var usrs=data;console.log(usrs);setUsers_arr(usrs);fetchUserDetData();});};var fetchUserDetData=function fetchUserDetData(){fetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/registeredusers\").then(function(response){return response.json();}).then(function(data){var usrsdata=data;console.log(usrsdata);setUsersdet_arr(usrsdata);});};useEffect(function(){setErrorMessage('');},[usernameval,pwd]);useEffect(function(){fetchData();},[]);var navigate=useNavigate();var submitHandler=function submitHandler(e){var usrname=users_arr.filter(function(user){return user.username===usernameval;});// const passwo = users_arr.filter(user => user.password === pwd );\nvar passwo=usrname[0].password===pwd;console.log(\"usegf\");console.log(usrname);console.log(\"passs\");console.log(passwo);if(usrname.length&&passwo){var userar=userdet_arr.filter(function(user){return user.username===usernameval;});var fname=userar[0].fname;var lname=userar[0].lname;var phone=userar[0].phone;var email=usernameval;alert(\"Sucessfully Logged in\");localStorage.setItem('fname',fname);localStorage.setItem('lname',lname);localStorage.setItem('phone',phone);localStorage.setItem('email',email);localStorage.setItem('islogged',true);navigate(\"/cars\");}else{alert('Incorrect Username or password');}e.preventDefault();};return/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(FormGroup,{className:\"booking__form d-inline-block me-4 mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",required:true,ref:loginNameRef,onChange:function onChange(e){return setusernameval(e.target.value);},value:usernameval})}),/*#__PURE__*/_jsx(FormGroup,{className:\"booking__form d-inline-block me-4 mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",required:true,ref:loginPasswordRef,onChange:function onChange(e){return setPwd(e.target.value);},value:pwd})}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(\"div\",{className:\"payment text-center mt-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})})})]});};export default Login;","map":{"version":3,"names":["React","useRef","useEffect","useState","Form","FormGroup","validator","Container","Row","Col","Link","useNavigate","Login","errorMessage","setErrorMessage","usernameval","setusernameval","pwd","setPwd","success","setSuccess","users_arr","setUsers_arr","userdet_arr","setUsersdet_arr","loginNameRef","loginPasswordRef","fetchData","fetch","then","response","json","data","usrs","console","log","fetchUserDetData","usrsdata","navigate","submitHandler","e","usrname","filter","user","username","passwo","password","length","userar","fname","lname","phone","email","alert","localStorage","setItem","preventDefault","target","value"],"sources":["/Users/saipavanmaram/Documents/AUCM/courses/Master'sProject/react_rent_a_car/src/components/UI/Login.jsx"],"sourcesContent":["import React,{useRef,useEffect} from \"react\";\nimport {useState} from \"react\";\nimport \"../../styles/booking-form.css\";\nimport { Form, FormGroup } from \"reactstrap\";\nimport validator from 'validator';\nimport { Container, Row, Col } from \"reactstrap\";\nimport \"../../styles/booking-form.css\";\nimport \"../../styles/payment-method.css\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\n\n\nconst Login = () => {\n\t\n\t  const [errorMessage, setErrorMessage] = useState('');\n\t  const [usernameval , setusernameval] = useState('');\n\t   const [pwd, setPwd] = useState('');\n\t   const [success, setSuccess] = useState(false);\n\t   const [users_arr, setUsers_arr] = useState([]);\n\t   const [userdet_arr, setUsersdet_arr] = useState([]);\n  const loginNameRef = useRef();\n  const loginPasswordRef = useRef();\n  \n  \n  \n  const fetchData =()=>{\nfetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/users\")\n.then((response) =>{\nreturn response.json(); \n}).then((data)=>{\nlet usrs = data;\nconsole.log(usrs); \nsetUsers_arr(usrs);\nfetchUserDetData();\n})\n}\n\n const fetchUserDetData =()=>{\nfetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/registeredusers\")\n.then((response) =>{\nreturn response.json(); \n}).then((data)=>{\nlet usrsdata = data;\nconsole.log(usrsdata); \nsetUsersdet_arr(usrsdata);\n\n})\n}\n  \n\n\n    useEffect(() => {\n\t\t\n\t\t\n        setErrorMessage('');\n    }, [usernameval, pwd])\n\n\n   useEffect(() => {\n\t\t\n\t\t\n        fetchData();\n    }, [])\n\n\n\n const navigate = useNavigate();\t\n  const submitHandler = (e) => {\n\t  \n\t  const usrname = users_arr.filter(user => user.username === usernameval );\n\t // const passwo = users_arr.filter(user => user.password === pwd );\n\t  const passwo = usrname[0].password === pwd;\n\t  \n\t  console.log(\"usegf\");\n\t  console.log(usrname);\n\t  console.log(\"passs\");\n\t  console.log(passwo);\n\t  \n\t  \n\t  if(usrname.length&&passwo)\n\t  {\n\t\t  const userar = userdet_arr.filter(user => user.username === usernameval );\n\t\t\n\t\t  \n\t\t  const fname = userar[0].fname;\n\t\t  const lname = userar[0].lname;\n\t\t  const phone = userar[0].phone;\n\t\t  const email = usernameval;\n\t\t  \n\t\t   alert(\"Sucessfully Logged in\");\n\t\t   localStorage.setItem('fname',fname)\n\t\t   localStorage.setItem('lname',lname)\n\t\t   localStorage.setItem('phone',phone)\n\t\t     localStorage.setItem('email',email)\n\t\t localStorage.setItem('islogged',true)\n\t\t navigate(\"/cars\")\n\t  }\n\t  else{\n\t\t alert('Incorrect Username or password');\n\t }\n\t  \n\t  \n\t  \n   e.preventDefault();\n  };\n\n  return (\n    \n              <Form  onSubmit={submitHandler}>\n                <FormGroup className=\"booking__form d-inline-block me-4 mb-4\">\n                  <input\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    required\n                    ref={loginNameRef}\n\t\t\t\t\tonChange={(e) => setusernameval(e.target.value)}\n                            value={usernameval}\n                  />\n              </FormGroup>\n             < FormGroup className=\"booking__form d-inline-block me-4 mb-4\">\n                  <input\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    required\n                    ref={loginPasswordRef}\n\t\t\t\t\t onChange={(e) => setPwd(e.target.value)}\n                            value={pwd}\n\t\t\t\t\t\n                  />\n              </FormGroup>\n\t\t\t  <FormGroup>\n\t\t\t   <div className=\"payment text-center mt-4\">\n                <button  type=\"submit\">\n                  Login\n                </button>\n\t\t\t\t </div>\n\t\t\t\t   </FormGroup>\n          \n              </Form>\n\t\t\t  \n            \n  );\n};\n\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}