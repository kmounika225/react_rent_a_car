{"ast":null,"code":"var _jsxFileName = \"/Users/saipavanmaram/Documents/AUCM/courses/Master'sProject/react_rent_a_car/src/components/UI/Forgotpassword.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport \"../../styles/booking-form.css\";\nimport { Form, FormGroup } from \"reactstrap\";\nimport validator from 'validator';\nimport { Container, Row, Col } from \"reactstrap\";\nimport \"../../styles/booking-form.css\";\nimport \"../../styles/payment-method.css\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\"; //import userData from \"../../assets/data/userData\";\n\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ForgotPass = () => {\n  _s();\n\n  const [errorMessage, setErrorMessage] = useState('');\n  const [usernameval, setusernameval] = useState('');\n  const [pwd, setPwd] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [users_arr, setUsers_arr] = useState([]);\n  const [userdet_arr, setUsersdet_arr] = useState([]);\n  const loginNameRef = useRef();\n  const loginPasswordRef = useRef();\n\n  const fetchData = () => {\n    fetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/users\").then(response => {\n      return response.json();\n    }).then(data => {\n      let usrs = data;\n      console.log(usrs);\n      setUsers_arr(usrs);\n      fetchUserDetData();\n    });\n  };\n\n  const fetchUserDetData = () => {\n    fetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/registeredusers\").then(response => {\n      return response.json();\n    }).then(data => {\n      let usrsdata = data;\n      console.log(usrsdata);\n      setUsersdet_arr(usrsdata);\n    });\n  };\n\n  useEffect(() => {\n    setErrorMessage('');\n  }, [usernameval, pwd]);\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const navigate = useNavigate();\n\n  const submitHandler = e => {\n    const usrname = users_arr.filter(user => user.username === usernameval);\n    console.log(\"usegf\");\n    console.log(usrname);\n\n    if (usrname.length) {\n      console.log(\"userid\");\n      const userId = usrname[0].id;\n      console.log(userId);\n      const userar = userdet_arr.filter(user => user.username === usernameval);\n      axios.put('https://63895b77c5356b25a2feb5ca.mockapi.io/users/' + userId, {\n        'password': pwd\n      }).then(response => {\n        console.log(response);\n        const resd = response.status;\n\n        if (resd == 200) {\n          axios.put('https://63895b77c5356b25a2feb5ca.mockapi.io/registeredusers/' + userId, {\n            'password': pwd\n          }).then(response => {\n            console.log(response);\n            const resd = response.status;\n\n            if (resd == 200) {\n              alert(\"Password Change Sucessful\"); // localStorage.setItem('email',email)\n\n              navigate(\"/login\");\n            } else {\n              alert(\"Network error or API error\");\n            }\n          }).catch(error => {\n            console.log(error);\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      alert(\"User account doesn't exist. Please register with us\");\n    }\n\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: submitHandler,\n    children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n      className: \"booking__form d-inline-block me-4 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        required: true,\n        ref: loginNameRef,\n        onChange: e => setusernameval(e.target.value),\n        value: usernameval\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      className: \"booking__form d-inline-block me-4 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        required: true,\n        ref: loginPasswordRef,\n        onChange: e => setPwd(e.target.value),\n        value: pwd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment text-center mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Recover Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 15\n  }, this);\n};\n\n_s(ForgotPass, \"jxoC+fJxzOuGLJq/IcwrXIvTZXI=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ForgotPass;\nexport default ForgotPass;\n\nvar _c;\n\n$RefreshReg$(_c, \"ForgotPass\");","map":{"version":3,"names":["React","useRef","useEffect","useState","Form","FormGroup","validator","Container","Row","Col","Link","useNavigate","axios","ForgotPass","errorMessage","setErrorMessage","usernameval","setusernameval","pwd","setPwd","success","setSuccess","users_arr","setUsers_arr","userdet_arr","setUsersdet_arr","loginNameRef","loginPasswordRef","fetchData","fetch","then","response","json","data","usrs","console","log","fetchUserDetData","usrsdata","navigate","submitHandler","e","usrname","filter","user","username","length","userId","id","userar","put","resd","status","alert","catch","error","preventDefault","target","value"],"sources":["/Users/saipavanmaram/Documents/AUCM/courses/Master'sProject/react_rent_a_car/src/components/UI/Forgotpassword.jsx"],"sourcesContent":["import React,{useRef,useEffect} from \"react\";\nimport {useState} from \"react\";\nimport \"../../styles/booking-form.css\";\nimport { Form, FormGroup } from \"reactstrap\";\nimport validator from 'validator';\nimport { Container, Row, Col } from \"reactstrap\";\nimport \"../../styles/booking-form.css\";\nimport \"../../styles/payment-method.css\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\n//import userData from \"../../assets/data/userData\";\n\nimport axios from 'axios'\n\nconst ForgotPass = () => {\n\t\n\t  const [errorMessage, setErrorMessage] = useState('');\n\t  const [usernameval , setusernameval] = useState('');\n\t   const [pwd, setPwd] = useState('');\n\t   const [success, setSuccess] = useState(false);\n\t   const [users_arr, setUsers_arr] = useState([]);\n\t   const [userdet_arr, setUsersdet_arr] = useState([]);\n  const loginNameRef = useRef();\n  const loginPasswordRef = useRef();\n  \n  \n  \n  const fetchData =()=>{\nfetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/users\")\n      \n.then((response) =>{\nreturn response.json(); \n}).then((data)=>{\nlet usrs = data;\nconsole.log(usrs); \nsetUsers_arr(usrs);\nfetchUserDetData();\n})\n}\n\n const fetchUserDetData =()=>{\nfetch(\"https://63895b77c5356b25a2feb5ca.mockapi.io/registeredusers\")\n.then((response) =>{\nreturn response.json(); \n}).then((data)=>{\nlet usrsdata = data;\nconsole.log(usrsdata); \nsetUsersdet_arr(usrsdata);\n\n})\n}\n  \n\n\n    useEffect(() => {\n\t\t\n\t\n        setErrorMessage('');\n    }, [usernameval, pwd])\n\n\n   useEffect(() => {\n\t\t\n\t\n        fetchData();\n    }, [])\n\n\n\n const navigate = useNavigate();\t\n  const submitHandler = (e) => {\n\t  \n\t  const usrname = users_arr.filter(user => user.username === usernameval );\n\t\n\t  \n\t  console.log(\"usegf\");\n\t  console.log(usrname);\n\t \n\t  \n\t  \n\t  if(usrname.length)\n\t  {\n           console.log(\"userid\");\n\t \n           const userId = usrname[0].id\n            console.log(userId);\n\t\t  const userar = userdet_arr.filter(user => user.username === usernameval );\n\t\t\n          \n          \t\t  \n\t\t  \n\t\t\t\taxios\n.put('https://63895b77c5356b25a2feb5ca.mockapi.io/users/'+userId,{'password':pwd})\n.then(response => {\n\tconsole.log(response);\n\t\n\tconst resd = response.status;\n\t\n\tif (resd == 200)\n\t{\n\t\t\n\t\t\t\t\t  \t\taxios\n.put('https://63895b77c5356b25a2feb5ca.mockapi.io/registeredusers/'+userId,{'password':pwd})\n        \n.then(response => {\n\tconsole.log(response);\n\t\n\tconst resd = response.status;\n\t\n\tif (resd == 200)\n\t{\n\t\t\nalert(\"Password Change Sucessful\");\n       // localStorage.setItem('email',email)\n\t\tnavigate(\"/login\");\n\n\t\t\n\t}\n\telse{\n\t\t\n\t\talert(\"Network error or API error\");\n\t}\n\t\n\t \n})\n\n.catch(error => {\nconsole.log(error);\n})\n\n\t\t\n\t\t\n\t\t\n\t}\n\t\n\t \n})\n\n.catch(error => {\nconsole.log(error);\n})\n\n          \n          \n          \n          \n          \n          \n          \n          \n          \n          \n          \n          \n          \n          \n          \n          \n          \n          \n\t\n\t  }\n\t  else{\n\t\t alert(\"User account doesn't exist. Please register with us\");\n\t }\n\t  \n\t  \n\n   e.preventDefault();\n  };\n\n  return (\n    \n              <Form  onSubmit={submitHandler}>\n                <FormGroup className=\"booking__form d-inline-block me-4 mb-4\">\n                  <input\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    required\n                    ref={loginNameRef}\n\t\t\t\t\tonChange={(e) => setusernameval(e.target.value)}\n                            value={usernameval}\n                  />\n              </FormGroup>\n             < FormGroup className=\"booking__form d-inline-block me-4 mb-4\">\n                  <input\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    required\n                    ref={loginPasswordRef}\n\t\t\t\t\t onChange={(e) => setPwd(e.target.value)}\n                            value={pwd}\n\t\t\t\t\t\n                  />\n              </FormGroup>\n\t\t\t  <FormGroup>\n\t\t\t   <div className=\"payment text-center mt-4\">\n                <button  type=\"submit\">\n                  Recover Password\n                </button>\n\t\t\t\t </div>\n\t\t\t\t   </FormGroup>\n          \n              </Form>\n\t\t\t  \n            \n  );\n};\n\n\nexport default ForgotPass;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}